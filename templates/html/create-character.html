<!DOCTYPE html>
<html lang="{{ language }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ _('create.character.page.title') }}</title>
    <link rel="stylesheet" href="/css/create-character.css">
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="container">
        <div class="title-container">
            <h1>{{ _('create.character.title') }}</h1>
        </div>
        <p class="subtitle">{{ _('create.character.subtitle') }}</p>

        <form id="character-form" class="character-form">
            <!-- Sección de información básica -->
            <section class="form-section">
                <h2>{{ _('create.character.basic.title') }}</h2>
                
                <!-- Nombre del personaje en una fila separada para darle más importancia -->
                <div class="form-group character-name-group">
                    <label for="character-name">{{ _('create.character.basic.name') }}</label>
                    <input type="text" id="character-name" name="name" required>
                </div>

                <!-- Subsección: Raza -->
                <div class="basic-info-subsection">
                    <h3>{{ _('create.character.basic.race') }}</h3>
                    <div class="basic-options-container" id="race-container">
                        <!-- Se llenará con JavaScript -->
                    </div>
                    <input type="hidden" id="selected-race" name="race_id" required>
                </div>

                <!-- Subsección: Trasfondo -->
                <div class="basic-info-subsection">
                    <h3>{{ _('create.character.basic.background') }}</h3>
                    <div class="basic-options-container" id="background-container">
                        <!-- Se llenará con JavaScript -->
                    </div>
                    <input type="hidden" id="selected-background" name="background_id" required>
                </div>

                <!-- Subsección: Alineamiento -->
                <div class="basic-info-subsection">
                    <h3>{{ _('create.character.basic.alignment') }}</h3>
                    <div class="basic-options-container" id="alignment-container">
                        <!-- Se llenará con JavaScript -->
                    </div>
                    <input type="hidden" id="selected-alignment" name="alignment_id" required>
                </div>

                <!-- Nivel en una sección separada con estilo especial -->
                <div class="form-group character-level-group">
                    <label for="character-level">{{ _('create.character.basic.level') }}</label>
                    <div class="number-input-container">
                        <button type="button" class="number-btn decrease-5" data-target="character-level" data-step="-5">-5</button>
                        <button type="button" class="number-btn decrease-1" data-target="character-level" data-step="-1">-1</button>
                        <input type="number" id="character-level" name="level" min="1" max="20" value="1" required readonly>
                        <button type="button" class="number-btn increase-1" data-target="character-level" data-step="1">+1</button>
                        <button type="button" class="number-btn increase-5" data-target="character-level" data-step="5">+5</button>
                    </div>
                </div>

                <!-- Descripción en una fila separada -->
                <div class="form-group character-description-group">
                    <label for="character-description">{{ _('create.character.basic.description') }}</label>
                    <textarea id="character-description" name="description" rows="3"></textarea>
                </div>
            </section>

            <!-- Sección de atributos -->
            <section class="form-section">
                <h2>{{ _('create.character.attributes.title') }}</h2>
                <div class="attributes-container">
                    <div class="attribute-item">
                        <label for="attribute-strength">{{ _('create.character.attributes.strength') }}</label>
                        <div class="number-input-container">
                            <button type="button" class="number-btn decrease-5" data-target="attribute-strength" data-step="-5">-5</button>
                            <button type="button" class="number-btn decrease-1" data-target="attribute-strength" data-step="-1">-1</button>
                            <input type="number" id="attribute-strength" name="attributes[strength]" min="3" max="20" value="10" required readonly>
                            <button type="button" class="number-btn increase-1" data-target="attribute-strength" data-step="1">+1</button>
                            <button type="button" class="number-btn increase-5" data-target="attribute-strength" data-step="5">+5</button>
                        </div>
                        <span class="attribute-modifier" id="modifier-strength">+0</span>
                    </div>
                    <div class="attribute-item">
                        <label for="attribute-dexterity">{{ _('create.character.attributes.dexterity') }}</label>
                        <div class="number-input-container">
                            <button type="button" class="number-btn decrease-5" data-target="attribute-dexterity" data-step="-5">-5</button>
                            <button type="button" class="number-btn decrease-1" data-target="attribute-dexterity" data-step="-1">-1</button>
                            <input type="number" id="attribute-dexterity" name="attributes[dexterity]" min="3" max="20" value="10" required readonly>
                            <button type="button" class="number-btn increase-1" data-target="attribute-dexterity" data-step="1">+1</button>
                            <button type="button" class="number-btn increase-5" data-target="attribute-dexterity" data-step="5">+5</button>
                        </div>
                        <span class="attribute-modifier" id="modifier-dexterity">+0</span>
                    </div>
                    <div class="attribute-item">
                        <label for="attribute-constitution">{{ _('create.character.attributes.constitution') }}</label>
                        <div class="number-input-container">
                            <button type="button" class="number-btn decrease-5" data-target="attribute-constitution" data-step="-5">-5</button>
                            <button type="button" class="number-btn decrease-1" data-target="attribute-constitution" data-step="-1">-1</button>
                            <input type="number" id="attribute-constitution" name="attributes[constitution]" min="3" max="20" value="10" required readonly>
                            <button type="button" class="number-btn increase-1" data-target="attribute-constitution" data-step="1">+1</button>
                            <button type="button" class="number-btn increase-5" data-target="attribute-constitution" data-step="5">+5</button>
                        </div>
                        <span class="attribute-modifier" id="modifier-constitution">+0</span>
                    </div>
                    <div class="attribute-item">
                        <label for="attribute-intelligence">{{ _('create.character.attributes.intelligence') }}</label>
                        <div class="number-input-container">
                            <button type="button" class="number-btn decrease-5" data-target="attribute-intelligence" data-step="-5">-5</button>
                            <button type="button" class="number-btn decrease-1" data-target="attribute-intelligence" data-step="-1">-1</button>
                            <input type="number" id="attribute-intelligence" name="attributes[intelligence]" min="3" max="20" value="10" required readonly>
                            <button type="button" class="number-btn increase-1" data-target="attribute-intelligence" data-step="1">+1</button>
                            <button type="button" class="number-btn increase-5" data-target="attribute-intelligence" data-step="5">+5</button>
                        </div>
                        <span class="attribute-modifier" id="modifier-intelligence">+0</span>
                    </div>
                    <div class="attribute-item">
                        <label for="attribute-wisdom">{{ _('create.character.attributes.wisdom') }}</label>
                        <div class="number-input-container">
                            <button type="button" class="number-btn decrease-5" data-target="attribute-wisdom" data-step="-5">-5</button>
                            <button type="button" class="number-btn decrease-1" data-target="attribute-wisdom" data-step="-1">-1</button>
                            <input type="number" id="attribute-wisdom" name="attributes[wisdom]" min="3" max="20" value="10" required readonly>
                            <button type="button" class="number-btn increase-1" data-target="attribute-wisdom" data-step="1">+1</button>
                            <button type="button" class="number-btn increase-5" data-target="attribute-wisdom" data-step="5">+5</button>
                        </div>
                        <span class="attribute-modifier" id="modifier-wisdom">+0</span>
                    </div>
                    <div class="attribute-item">
                        <label for="attribute-charisma">{{ _('create.character.attributes.charisma') }}</label>
                        <div class="number-input-container">
                            <button type="button" class="number-btn decrease-5" data-target="attribute-charisma" data-step="-5">-5</button>
                            <button type="button" class="number-btn decrease-1" data-target="attribute-charisma" data-step="-1">-1</button>
                            <input type="number" id="attribute-charisma" name="attributes[charisma]" min="3" max="20" value="10" required readonly>
                            <button type="button" class="number-btn increase-1" data-target="attribute-charisma" data-step="1">+1</button>
                            <button type="button" class="number-btn increase-5" data-target="attribute-charisma" data-step="5">+5</button>
                        </div>
                        <span class="attribute-modifier" id="modifier-charisma">+0</span>
                    </div>
                </div>
                <div class="attribute-points-display" id="attribute-points-container">
                    <p>{{ _('create.character.attributes.points.remaining') }}: <span id="points-remaining" class="attribute-points-value">27</span></p>
                </div>
            </section>

            <!-- Sección de habilidades y idiomas (dos columnas) -->
            <div class="two-column-layout">
                <section class="form-section">
                    <h2>{{ _('create.character.skills.title') }}</h2>
                    <div class="skills-container" id="skills-container">
                        <!-- Se llenará con JavaScript -->
                    </div>
                </section>

                <section class="form-section">
                    <h2>{{ _('create.character.languages.title') }}</h2>
                    <div class="languages-container" id="languages-container">
                        <!-- Se llenará con JavaScript -->
                    </div>
                </section>
            </div>

            <!-- Sección de competencias y hechizos (dos columnas) -->
            <div class="two-column-layout">
                <section class="form-section">
                    <h2>{{ _('create.character.proficiencies.title') }}</h2>
                    <div class="proficiencies-container" id="proficiencies-container">
                        <!-- Se llenará con JavaScript -->
                    </div>
                </section>

                <section class="form-section">
                    <h2>{{ _('create.character.spells.title') }}</h2>
                    <div class="spells-container" id="spells-container">
                        <!-- Se llenará con JavaScript -->
                    </div>
                </section>
            </div>

            <!-- Sección de equipamiento -->
            <section class="form-section">
                <h2>{{ _('create.character.items.title') }}</h2>
                <div class="items-container" id="items-container">
                    <!-- Se llenará con JavaScript -->
                </div>
            </section>

            <div class="form-actions">
                <button type="button" class="secondary-button" id="reset-form">{{ _('create.character.buttons.reset') }}</button>
                <button type="submit" class="primary-button" id="save-character">{{ _('create.character.buttons.save') }}</button>
            </div>
        </form>

        <div class="language-selector">
            <a href="?lang=es" {% if language=='es' %}class="active" {% endif %} aria-label="Cambiar a español">
                <span class="lang-icon">🇪🇸</span> Español
            </a>
            <a href="?lang=en" {% if language=='en' %}class="active" {% endif %} aria-label="Switch to English">
                <span class="lang-icon">🇬🇧</span> English
            </a>
        </div>
    </div>

    <script src="/js/create-character.js" defer></script>
</body>

</html>
